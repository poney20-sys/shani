<script>
(function() {
  const charMap = {
    '×':'ðŸ¦‰','×‘':'ðŸ¦Š','×’':'ðŸº','×“':'ðŸ¦','×”':'ðŸ¯','×•':'ðŸ¦’','×–':'ðŸ¦“','×—':'ðŸ—','×˜':'ðŸ­','×™':'ðŸ¹',
    '×›':'ðŸ°','×š':'ðŸ¥•','×œ':'ðŸ»','×ž':'ðŸ¨','×':'ðŸŒ³','× ':'ðŸ¼','×Ÿ':'ðŸŽ‹','×¡':'ðŸ®','×¢':'ðŸ·','×¤':'ðŸ¸',
    '×£':'ðŸƒ','×¦':'ðŸ’','×¥':'ðŸŒ','×§':'ðŸ¦„','×¨':'ðŸ´','×©':'ðŸ˜','×ª':'ðŸª',' ':' '
  };

  const emojiMap = {};
  for (let key in charMap) {
    if (charMap[key] !== ' ') emojiMap[charMap[key]] = key;
  }

  const input = document.getElementById('mainInput');
  const output = document.getElementById('mainOutput');

  input.addEventListener('input', function() {
    const val = input.value;
    if (!val) { output.innerText = "..."; return; }

    const chars = Array.from(val);
    const isHebrew = /[\u0590-\u05FF]/.test(val);

    const result = isHebrew
      ? chars.map(c => charMap[c] ?? c).join('')
      : chars.map(e => emojiMap[e] ?? e).join('');

    output.innerText = result;
  });

  // âœ… ×–×” ×”×™×” ×—×¡×¨ ××¦×œ×š: ×¤×•× ×§×¦×™×” ×ž×œ××”
  output.onclick = async function () {
    const text = output.innerText;
    if (!text || text === "...") return;

    try {
      await navigator.clipboard.writeText(text);
      // ×¤×™×“×‘×§ ×§×˜×Ÿ ×œ×ž×©×ª×ž×©
      const old = output.innerText;
      output.innerText = "×”×•×¢×ª×§ âœ…";
      setTimeout(() => output.innerText = old, 700);
    } catch (err) {
      console.error("Clipboard copy failed:", err);
    }
  };
})();
</script>
